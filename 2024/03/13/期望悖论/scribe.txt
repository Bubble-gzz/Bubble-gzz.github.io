

事件A和事件B中的x其实会取不同的值，而只有其中一个是等于现在手中的实际金额的。


有两位同学bub和ble分别给出了自己的分析。

bub同学的策略分析：
如果交换成功，以下事件等概率发生：
事件A：我本来持有c元，交换后获得2c元，净收益c元；
事件B：我本来持有2c元，交换后获得c元，净收益-c元。
所以期望收益 `E(Gain) = 0.5*c + 0.5*(-c) = 0`
如果交换不成功，那么显然收益为0.
因此不管是否交换，我的期望收益都是0，
**交不交换是无所谓的。**





而这个概率模型中那么事件A和事件B

似乎两人“都有道理”，可是为什么结果出现了分歧呢？到底谁是对的呢？
至少有一点很奇怪：这本来是一个零和博弈，双方的总收益应该始终为0，那么双方期望收益的和也应该是0，
而ble的计算结果表明双方的期望收益都大于0，矛盾，所以至少ble的分析是有问题的。哪儿出错了？



概率的确是两个事件各占50%，不是吗？
实际上还真不是。

在ble假设的概率模型中，事件A和事件B实际上都包含了一个不起眼却很重要的**前提条件**：我手中的金额是x。
完整的表述应该是：
事件A：在手中金额是x的前提下，我获得双倍金额2x，也就是获得x元收益；
事件B：在手中金额是x的前提下，我获得一半金额0.5x，也就是获得-0.5x元收益。

由于金额的具体数额有c和2c这两种，所以分别代入上述事件模板实际上可以得到四个互斥事件：
事件A1：在手中金额是c的前提下，我获得双倍金额2c，也就是获得c元收益；
事件A2：在手中金额是2c的前提下，我获得双倍金额4c，也就是获得2c元收益；
事件B1：在手中金额是2c的前提下，我获得一半金额c，也就是获得-c元收益。
事件B2：在手中金额是c的前提下，我获得一半金额0.5c，也就是获得-0.5c元收益。

容易看出P(A1)=P(B1)=100%,P(A2)=B(B2)=0%
只可能`A对应A1，B对应B2`或者`A对应A2，B对应B`。
不管是哪种情况，事件A和事件B的概率都不会是五五开。

之所以ble会认为五五开，是因为他有种错觉，他认为事件A对应A1和A2的可能性各为50%，
事件B对应B1和B2的可能性也各为50%。所以`P(A)=P(A1)*50%+P(A2)*50%=50%, P(B)=P(B1)*50%+P(B2)*50%=50%`

可是他没有发现事件A在x确定的情况下只能对应A1或者A2中的某一个。

而ble的概率模型中，A有50%的概率代表A1，有50%的概率代表A2，B有50%的概率代表B1，有50%的概率代表B2。
当手中金额是较大值时，概率分布为：P(事件1)=0%，P(事件2)=100%；
当手中金额是较小值是，概率分布为：P(事件1)=100%，P(事件2)=0%。
在任何一种情况下，概率分布都不是ble所认为的等概率分布。
有人可能仍然不服气：可是玩家并不知道自己手中的金额是较大值还是较小值啊，两种情况出现的概率应该是对半开，
那平均后P(事件1)=(0%+100%)/2
而玩家由于不知道自己手中的金额是大还是小，所以实际上根本就无法计算出真实的概率分布。
这时一个错觉
所以在玩家考虑将手中的具体金额纳入计算的那一刻，他面对的就是已经是一个带有前提条件（手中的金额）的残局，
而由于无法解读这个前提条件所隐含的信息，这个残局下的期望是没有办法计算出来的，针对这个残局的“最优策略”也就无法计算出来。



所以bub和ble是在两个不同的语境下分析概率，
bub分析的是一般情况下的普遍概率，而ble试图分析一个具体的前提条件已经发生的残局下的概率。

游戏只能进行一次，所以bub的分析虽然正确，可是毫无用处——虽然在一般统计规律上交不交换都一样，
可是在唯一的对局中， 答案只能是交换和不交换中的一个；虽然大家的期望收益都是0，可是现实必然是一个哭一个笑。

ble的分析虽然错了，但方向是好的，因为他试图考虑了已知条件，来分析当前残局的概率分布，
只有残局才是有意义的，残局才应该是全部。
试想如果ble通过作弊得知了c的具体值，那么他就能够构造出残局正确的概率模型：
当手中金额是较大值时，概率分布为：P(事件1)=0%，P(事件2)=100%，交换的期望收益是100%*(-0.5x)=-0.5x<0，所以应该选择不交换；
当手中金额是较小值是，概率分布为：P(事件1)=100%，P(事件2)=0%，交换的期望收益是100%*x=x>0，所以应该选择交换。
所以如果真的能够构造出残局的概率模型，ble就能设计出比bub赢面更大的策略。

这让我想起了一个经典的例子，那就是如果我已经连续100次抛出朝上的硬币，那么我下一次抛出的硬币有多大概率朝上？
了解概率论后我们知道这是一个典型的条件概率，我们讨论的不是P(连续101次硬币都朝上)，而是P(下一次硬币朝上|前100次都朝上)。
因为我们都知道P(连续101次硬币都朝上)很小，心理上无法接受它真的到来这个事实，所以倾向于认为下一次硬币几乎不可能朝上。
可事实上过去的100次朝上已经成为既定事实，既定事实的概率再小，它也已经发生了，不会对将来造成任何影响。
我们要做的是放下过去，活在当下。
当下，这枚硬币朝上的概率确确实实就是1/2，残局才应该是全部。


ble固然失败了，但bub就料到了一切吗？
也不是。如果游戏能够无限重开，而且每次重开玩家的记忆都被消除，那么bub能够保证期望收益不赔不赚。
可事实上游戏只有一次，每个玩家面对的，从一开始就是一个残局，这个残局下必然存在一个100%更优的策略，
而到底是交换还是不交换，没人知道。bub的预测只是普遍的统计规律，而落到一场具体的游戏的某个人头上，就只有输和赢而已。
换一个角度想，如果ble预测成功了（他搞到了c的具体数值），那他就得到了必胜策略。
考虑了前提条件的预测当然是更准确的。


这是否意味着当前玩家交不交换真的无所谓？
实际上当前已知条件下玩家交换和不交换的期望收益绝对是一正一负

请问事件3和事件1是否等价？事件4和事件2是否等价？

并不等价。
实际上事件1是**事件3附带前提条件得到的产物**，也就是`事件1=事件3|手中金额为x`。
事件3的概率是50%，而事件1的概率却得视具体条件而定。
事实上当手中金额是较小值时，P(事件1)=P(事件3|x=较小金额)=100%；
当手中金额是较大值时，P(事件1)=P(事件3|x=较大金额)=0%。
所以bub假定P(事件1)=50%在任何一种情况下来说都是不对的。
同理P(事件2)=50%也是错的。


玩家此时已经掌握了一个会影响后续概率分布的**已知条件**，也就是
实际上由于缺少关键信息“c的具体数值”，玩家手中的无法利用当前的已知条件“手中金额为x”作出判断，
也就无法构建出**在已知前提条件下**，后续随机事件的概率模型，实际上手中的金额对于玩家来说是一个无法解读的信息。
回头想想bub构建出的概率模型，我们观察一下事件1和事件2，我们注意到其中一共出现了3种面值的信封，分别是x，0.5x，2x！
出现三种面纸的信封显然与现实是矛盾的，这个概率模型本来就不是真实存在的。

玩家只能退一步，抛弃当前的已知条件（即手中的金额），来构建出那个更一般的概率模型：

事件1：玩家持有较少的钱数，交换后获得双倍钱数
事件2：玩家持有较多的钱数，

是的，概率的确是50%，问题出在两个事件的公共点——那个诡异的x上面。
我们观察一下事件1和事件2，我们注意到其中一共出现了3种面值的信封，分别是x，0.5x，2x！
真实的概率模型显然不会在这两个事件中等概率随机出一个，因为现实并不存在3种面值的信封。
实际上在事件1和事件2中，x并不是指向同一个金额，而是一大一小两个不同的金额，可是这里却被硬生生地统一了。

bub同学在计算期望的时候，由于某种错误认知，构建出了一个并不符合现实情况的的概率模型——
他想当然地将自己手中的金额当做了一个不变的量，这其实是合理的，我们在分析问题的时候当然会习惯将已经观测到的信息作为确定的前提条件，
可是这是有代价的，那就是接下来对概率的分析都必须引入这个条件。
是的，你既然引入了“x=手中金额”这个条件，那你假设的模型中的概率必然得是条件概率，这个时候就不再是P(事件1)=50%，P(事件2)=50%了，
如果手中金额是较小值，那么概率分布为：P(双倍金额|x=手中金额)=100% P(一半金额|x=手中金额)=0%；
如果手中金额是较大值，那么概率分布为: P(双倍金额|x=手中金额)=0%  P(一半金额|x=手中金额)=100%。
可是bub没有办法知道自己手中金额到底是较大值还是较小值，他没有能力算出条件概率，而是想当然地认为都是50%，偏偏这个50%非常具有迷惑性。
bub引入了前提条件，却又没有办法正确给出条件概率，这就好比想要权利却不想要义务，结果构造出了一个“四不像”的概率模型。

既然我们没有能力利用手中金额这个已知的前提条件，

因此如果想要正确计算期望，只能抛弃“手中已知金额”这个前提条件，你得跳出去，跳到一个更大的随机空间中。



实际上

其实作为一个局外人，我们可以清楚地知道在A和B的期望计算式中各有一个选项是不存在的，
比如A不可能拿到金额为0.5x的信封，B也不可能拿到金额为4x的信封。
这个游戏不管进行多少次，
在玩家观测到手中金额为x这个前提条件下，交换后能获得的金额只可能是2x，
而并非A所猜测的50%概率为2x，还有50%概率为0.5x；
在玩家观测到手中金额为2x这个前提条件下，交换后能获得的金额只可能是x，
而并非B所猜测的50%的概率x，还有50%的概率为4x。

从这个看似悖论的分析过程中可以看到，只有当我们对真实的概率分布信息完全掌握的时候，计算的期望值才具有实际意义，
而在bub同学的分析过程中，A和B站在自己视角所计算的期望是不真实的，这是一种信息缺失情况下计算出来的结果，
按照A和B各自的分析思路，必须存在大中小三个信封，这个模型才成立，可事实上怎么可能呢？这种一厢情愿的期望值并不是客观真实的期望值，相加自然也失去了任何意义。

这里最容易让人迷惑的点或许就在于A和B似乎已经掌握了完整的信息，因为他们的确有50%的概率是钱少的一方，也有50%的概率是钱多的一方，他们对概率的分析看起来非常合理。实际上这一点的确合理，问题就出在他们不应该把自己手中的实际金额代入到两种情况的计算中去。

就拿B来说，他以为的概率分布：P(A = 2x) = 50%, P(A = 4x) = 50%
实际上，概率分布是有隐含的条件的：P(A = x | B = 2x) = 100%, P(A = 4x | B = 2x) = 0%
由于B并不知道x的具体值，所以他很容易忽略这个条件，从而想当然地作出五五开的假设。
实际上如果真的要通过实验来验证，必须要让B每次游戏结束都消除记忆才行，那个时候就算进行十万次这样的局面，B也不会明白他的真实处境，
每次他都会以为他有50%的概率大赚一笔，实际上他只会一次次地惨败，当他代入手中金额去分析的那一刻，他就承认了B=2x这个条件的存在，
可他却忽略了条件对概率产生的影响，这就好比想要权利却又不想履行义务。

我们再来看看ble同学的策略分析：
不管我是A还是B，我其实不知道我手里的这笔钱到底是x还是2x，事实上我手里的钱有50%的概率是x，也有50%的概率是2x。
那么我交换后的期望收益应该这样计算：E(Gain) = 0.5*(2x-x) + 0.5*(x-2x) = 0

而如果我不交换呢？期望收益显然也是0。

所以我其实交不交换都无所谓，没有任何意义，我的选择只是在抛硬币而已，只是这枚硬币绝对会导致亏或者赚中的一个结果，连竖起来的可能性都不存在。


所以如果双方要作出真正合理的预测，他们得知道x是多少。
实际上E(Gain_A)=x, E(Gain_B)=-x,是一个一目了然的零和博弈。
这样A就必然得出交换的结论，而B当然不会选择交换。

生活中很多概率计算，都发生在没有掌握全部信息的情况下，而我们却还倾向于以为自己掌握了100%的信息，觉得自己有能力预测命运。可能这也是十赌九输的原因之一吗？

实际上不是什么神奇的东西，因为自己概率论学得比较烂所以觉得很有意思就发出来了。
所以说学不好数理化，生活处处是魔法嘛。